<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Code Box</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.css">

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    <style>
        .programmer-container {
            display: flex;
        }

        .top-control-bar {
            background-color: #c0c0c0;
            display: flex;
            align-items: center;
            padding: 8px;
        }

        .script-name {
            margin-right: 16px;
        }

        .code-container {
            display: flex;
        }

        .left-vertical-indicator-bar {
            background-color: #ffaa00;
            width: 10px;
        }

        .code-box {
            background-color: #0f0f0f;
            flex-grow: 1;
            padding: 16px;
            border-radius: 5px;
            position: relative;
            display: flex;
        }

        /* Additional CSS for code styling */
        pre code {
            font-size: 14px;
            font-family: 'Consolas', monospace;
            white-space: pre-wrap;
        }

        .line-numbers {
            background-color: #0f0f0f;
            color: #c0c0c0;
            font-size: 14px;
            font-family: 'Consolas', monospace;
            padding: 16px 8px;
            border-radius: 5px 0 0 5px;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            text-align: right;
        }

        .line-numbers {
    width: 2%;
    border-radius: 5px 0 0 5px;
}

        
        .line-number {
            margin-bottom: 4px;
        }
    </style>
</head>
<body>
    <div class="programmer-container">
        <div class="top-control-bar">
            <div class="script-name">Script Name</div>
            <button class="line-numbering-btn" title="Toggle Line Numbers"></button>
            <button class="copy-to-clipboard-btn" title="Copy to Clipboard"></button>
        </div>
        <div class="code-container">
            <div class="left-vertical-indicator-bar"></div>

            <div class="code-box">
                <div class="line-numbers">
                    <!-- Generated line numbers will go here -->
                </div>

                <pre>
                    <code class="language-python">
                        # Author: Kotmin
                        # There is sort of hierarchy:
                        # If you run it as a script and parse arguments, it will translate THE USED ARGUMENTS
                        # If you haven't parsed arguments, it will try to convert the 'text_to_convert' var
                        # Otherwise, it will attempt to get user input.
                        # I found some info that between letters there should be three space units,
                        # and between words, there should be seven. I followed that rule.
                        import sys
                        DASH = '■'
                        DOT = '•'
                        text_to_convert = ""
                        MORSE_CODE = {
                            'A': '.-', 'B': '-...', 'C': '-.-.', 'D': '-..', 'E': '.', 'F': '..-.',
                            'G': '--.', 'H': '....', 'I': '..', 'J': '.---', 'K': '-.-', 'L': '.-..',
                            'M': '--', 'N': '-.', 'O': '---', 'P': '.--.', 'Q': '--.-', 'R': '.-.', 
                            'S': '...', 'T': '-', 'U': '..-', 'V': '...-', 'W': '.--', 'X': '-..-',
                            'Y': '-.--', 'Z': '--..',
                            '1': '.----', '2': '..---', '3': '...--', '4': '....-', '5': '.....', 
                            '6': '-....', '7': '--...', '8': '---..', '9': '----.', '0': '-----',
                            ' ': ' ',
                        }
                        def get_user_input()-> str:
                            try:
                                user_input = input("Type sentence to encipher to International Morse Code ")
                                if user_input.strip():
                                    if is_valid_morse_code(user_input):
                                        return str(user_input)
                                    else:
                                        raise ValueError("Input contains characters not convertible to Morse Code.")
                                else:
                                    raise ValueError("Input is an empty string.")
                            except ValueError as e:
                                print(f"Error: {e}")
                    </code>
                </pre>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script>
        // JavaScript to handle button functionality
        const lineNumberingBtn = document.querySelector('.line-numbering-btn');
        const lineNumbers = document.querySelector('.line-numbers');
        let showLineNumbers = true;

        lineNumberingBtn.addEventListener('click', () => {
            showLineNumbers = !showLineNumbers;
            toggleLineNumbers();
        });

        // Function to toggle line numbers visibility
        function toggleLineNumbers() {
            lineNumbers.style.display = showLineNumbers ? 'block' : 'none';
        }

        // Generate line numbers dynamically
        const codeBox = document.querySelector('.code-box pre code');
        const lineNumbersDiv = document.querySelector('.line-numbers');
        lineNumbersDiv.innerHTML = codeBox.innerHTML
            .split('\n')
            .map((_, i) => `<span class="line-number">${i + 1}</span>`)
            .join('\n');

        // Initial toggle to show line numbers
        toggleLineNumbers();
    </script>

</body>
</html>